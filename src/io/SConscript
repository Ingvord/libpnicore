import os.path as path

Import("build_env")


tiffsources = ["TIFFReader.cpp","TIFFFile.cpp",
           "TIFFIFD.cpp","TIFFIFDAbstractEntry.cpp","TIFFStandard.cpp",
           "TIFFIFDEntry.cpp","TIFFImageData.cpp","TIFFStripReader.cpp",
           "TIFFExceptions.cpp"]
           
cbfsources = ["Reader.cpp","CBFReader.cpp","strutils.cpp","CIFBinHeader.cpp",
           "PCIFBinHeader.cpp","CBFBinStreamReader.cpp"]
sources = ["DataReader.cpp","ImageInfo.cpp","ImageReader.cpp"]
sources.extend(cbfsources)
sources.extend(tiffsources)
sobjs = build_env.SharedObject(sources)
aobjs = build_env.StaticObject(sources)

hdr_inst_path = path.join(build_env["PREFIX"],"include/pni/utils/io")
incpniutils_inst = build_env.Install(hdr_inst_path,Glob("*.hpp"))
build_env.Alias("install",[incpniutils_inst])

Return("sobjs aobjs")
