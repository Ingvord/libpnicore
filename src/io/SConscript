import os.path as path

Import("build_env")


tiffsources = ["TIFFReader.cpp"]
tiffsources.extend(["tiff/IFD.cpp","tiff/IFDEntry.cpp"])
           
cbfsources = ["CBFReader.cpp","strutils.cpp","cbf/DectrisReader.cpp"]
sources = ["DataReader.cpp","ImageInfo.cpp","ImageReader.cpp"]
sources.extend(cbfsources)
sources.extend(tiffsources)
sobjs = build_env.SharedObject(sources)
aobjs = build_env.StaticObject(sources)

hdr_inst_path = path.join(build_env["PREFIX"],"include/pni/utils/io")
incpniutils_inst = build_env.Install(hdr_inst_path,Glob("*.hpp"))
build_env.Alias("install",[incpniutils_inst])

Return("sobjs aobjs")
