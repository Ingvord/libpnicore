Installing pniutils
===================

1.) Requirements to build the library
    ---------------------------------
Minimum requirements:
-> C++ Compiler g++ >= 4.4.1
-> Boost library > 1.4
-> SCons build system >= 2.0.0
-> doxygen  (to build the documentation)
-> cppunit  (to build unit tests)


2.) Build and installation
    ----------------------

2.1.) Building and installing the library on Linux
      --------------------------------------------
In the simplest case one only wants to install the library and the
documentation. This can be done with

$> scons all doc install 

By default the build system tries to install everything below /usr/local in the
corresponding subdirectories (which requires root privileges). Another
installation directory can be passed to scons via the PREFIX build variable

$> scons PREFIX=/opt/pni all doc install

in which case everything goes below /opt/pni. Before the build runs auto
configuration takes place. Here we assume that you have all your libraries in
default locations or at least pkg-config installed which points to the proper
include directories and library directories. If you use non-standard locations
and do not use pkg-config there are some build variables available which allow
you to pass this information to the build process. These variables are namely 

BOOSTINCDIR - header path (up to the boost directory) for BOOST
BOOSTLIBDIR - library installation directory for BOOST
CPPUINCDIR - CPPUnit include directory
CPPULIBDIR - CPPUnit library installation directory 

Additionally there are some command line switches that allow you to enable
several features of the library not built by default. Actually there is only 

--enable-tiff - enabling TIFF support

which enables TIFF support for data readers.

It is strongly recommended that you use pkg-config to obtain compiler and linker
flags for libpniutils. The reason is that the library uses several C++11
features that are maybe not all supported by your compiler. In this case some
preprocessor directives are set during the configuration of the library enabling
several workarounds. During installation the pniutils.pc file for pkg-config is
installed below $PREFIX/lib/pkgconfig. If your installation prefix is a
non-standard location it is strongly recommended that you add the path to the
pkgconfig directory to the PKG_CONFIG_PATH environment variable of your system. 

To check if everything worked well try

$> pkg-config --cflags --libs pniutils

You should then obtain some compiler flags like the path to the libraries header
files and the linker flags required to link versus libpniutils. 


2.2.) Building, installing and running unit tests and benchmarks on Linux
      -------------------------------------------------------------------
It is strongly recommended to run the unit-tests and benchmarks after installing
the library. In order to build the tests use

> scons test

which runs only the build. You will find tests afterwards in the ./test
subdirectory. The test can run simply with

$> ./pniutils 

from within the test directory. 




